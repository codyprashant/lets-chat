(this.webpackJsonpchatvia=this.webpackJsonpchatvia||[]).push([[1],{101:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar-1.3921191a.jpg"},130:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(36),o=n.n(c),u=n(99),i=n(17),s=n(38),l=r.a.lazy((function(){return Promise.all([n.e(4),n.e(10)]).then(n.bind(null,378))})),d=r.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,372))})),f=[{path:"/dashboard",component:l},{path:"/",exact:!0,component:function(){return r.a.createElement(i.a,{to:"/dashboard"})}}],p=[{path:"/logout",component:r.a.lazy((function(){return n.e(9).then(n.bind(null,375))}))},{path:"/login",component:d},{path:"/forget-password",component:r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,376))}))},{path:"/register",component:r.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,377))}))},{path:"/lock-screen",component:r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,379))}))}],m=([].concat(f,p),n(41)),b=n(50),h=n(53),g=n(69),O=n(68),E=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).capitalizeFirstLetter=function(e){return e.charAt(1).toUpperCase()+e.slice(2)},a.state={},a.capitalizeFirstLetter.bind(Object(h.a)(a)),a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this.capitalizeFirstLetter(this.props.location.pathname);document.title=e+" | Lets Chat"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.children)}}]),n}(a.Component),j=Object(i.h)(E),v=n(8),y=n(57),w=n(156),S=n(157),x=n(158),k=n(162),_=n(159),N=n(163),U=n(160),C=n(161),I=n(13),A=n.n(I),R=n(48),P=n(66),T=n.p+"static/media/logo.fe4dd1d7.svg";n(101);var L=Object(R.b)((function(e){return Object(v.a)({},e.Layout)}),{setActiveTab:P.i})((function(e){var t=Object(a.useState)(!1),n=Object(y.a)(t,2),c=(n[0],n[1],Object(a.useState)(!1)),o=Object(y.a)(c,2),u=o[0],i=o[1],l=function(t){e.setActiveTab(t)},d=e.activeTab;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"side-menu flex-lg-column mr-lg-1"},r.a.createElement("div",{className:"navbar-brand-box"},r.a.createElement(s.b,{to:"/",className:"logo logo-dark"},r.a.createElement("span",{className:"logo-sm"},r.a.createElement("img",{src:T,alt:"logo",height:"30"}))),r.a.createElement(s.b,{to:"/",className:"logo logo-light"},r.a.createElement("span",{className:"logo-sm"},r.a.createElement("img",{src:T,alt:"logo",height:"30"})))),r.a.createElement("div",{className:"flex-lg-column my-auto"},r.a.createElement(w.a,{pills:!0,className:"side-menu-nav justify-content-center",role:"tablist"},r.a.createElement(S.a,{id:"profile"},r.a.createElement(x.a,{id:"pills-user-tab",className:A()({active:"profile"===d}),onClick:function(){l("profile")}},r.a.createElement("img",{src:"https://ui-avatars.com/api/?name=Prashant Gupta",alt:"letschat",className:"profile-user rounded-circle"}))),r.a.createElement(k.a,{target:"profile",placement:"top"},"Profile"),r.a.createElement(S.a,{id:"Chats"},r.a.createElement(x.a,{id:"pills-chat-tab",className:A()({active:"chat"===d}),onClick:function(){l("chat")}},r.a.createElement("i",{className:"ri-message-3-line"}))),r.a.createElement(k.a,{target:"Chats",placement:"top"},"Chats"),r.a.createElement(S.a,{id:"Groups"},r.a.createElement(x.a,{id:"pills-groups-tab",className:A()({active:"group"===d}),onClick:function(){l("group")}},r.a.createElement("i",{className:"ri-group-line"}))),r.a.createElement(k.a,{target:"Groups",placement:"top"},"Groups"),r.a.createElement(S.a,{id:"Contacts"},r.a.createElement(x.a,{id:"pills-contacts-tab",className:A()({active:"contacts"===d}),onClick:function(){l("contacts")}},r.a.createElement("i",{className:"ri-contacts-line"}))),r.a.createElement(k.a,{target:"Contacts",placement:"top"},"Contacts"),r.a.createElement(S.a,{id:"Settings"},r.a.createElement(x.a,{id:"pills-setting-tab",className:A()({active:"settings"===d}),onClick:function(){l("settings")}},r.a.createElement("i",{className:"ri-settings-2-line"}))),r.a.createElement(k.a,{target:"Settings",placement:"top"},"Profile"),r.a.createElement(_.a,{nav:!0,isOpen:u,toggle:function(){return i(!u)},className:"profile-user-dropdown d-inline-block d-lg-none"},r.a.createElement(N.a,{nav:!0},r.a.createElement("i",{className:"ri-shut-down-line"})),r.a.createElement(U.a,null,r.a.createElement(C.a,{href:"/logout"},r.a.createElement("i",{className:"ri-shut-down-line"})))))),r.a.createElement("div",{className:"flex-lg-column d-none d-lg-block"},r.a.createElement(w.a,{className:"side-menu-nav justify-content-center"},r.a.createElement(S.a,null,r.a.createElement(x.a,{id:"logout",href:"/logout"},r.a.createElement("i",{className:"ri-shut-down-line"})),r.a.createElement(k.a,{target:"logout",placement:"right"},"Logout"))))))}));function G(e){var t=Object(i.g)();return Object(a.useEffect)((function(){var e,n=(e=t.location.pathname).charAt(1).toUpperCase()+e.slice(2);document.title=n+" | Lets Chat"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"layout-wrapper d-lg-flex"},r.a.createElement(L,null),e.children))}var F=function(e){var t=e.component,n=e.layout,a=e.isAuthProtected,c=Object(u.a)(e,["component","layout","isAuthProtected"]);return r.a.createElement(i.b,Object.assign({},c,{render:function(e){return a&&!localStorage.getItem("authUser")?r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}}):r.a.createElement(n,null,r.a.createElement(t,e))}}))},D=function(e){return r.a.createElement(s.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null)},r.a.createElement(i.d,null,p.map((function(e,t){return r.a.createElement(F,{path:e.path,layout:j,component:e.component,key:t,isAuthProtected:!1})})),f.map((function(e,t){return r.a.createElement(F,{path:e.path,layout:G,component:e.component,key:t,isAuthProtected:!0})}))))))},z=(n(130),n(49));Object(z.b)({apiKey:"AIzaSyCLm9jwCVgVK2Q_kspZvixXSiM3fZWibAk",authDomain:"lets-chat-99833.firebaseapp.com",databaseURL:"https://lets-chat-99833-default-rtdb.firebaseio.com",projectId:"lets-chat-99833",storageBucket:"lets-chat-99833.appspot.com",messagingSenderId:"232409795114",appId:"1:232409795114:web:88ab783378e2438dd9d153",measurementId:"G-QF4T4213JT"});var J=function(){return r.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(31),V=n(98),W=n(18),M=(n(97),function(){var e=localStorage.getItem("authUser");return e?"object"==typeof e?e:JSON.parse(e):null}),H={user:M(),loading:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.d:return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case W.e:return Object(v.a)(Object(v.a)({},e),{},{user:t.payload,loading:!1,error:null});case W.g:return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case W.h:return Object(v.a)(Object(v.a)({},e),{},{user:t.payload,loading:!1,error:null});case W.f:return Object(v.a)(Object(v.a)({},e),{},{user:null});case W.b:return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case W.c:return Object(v.a)(Object(v.a)({},e),{},{passwordResetStatus:t.payload,loading:!1,error:null});case W.a:return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});default:return Object(v.a)({},e)}},K=n(65),Q=n(28),Z={active_user:0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.c:return Object(v.a)({},e);case Q.a:return Object(v.a)(Object(v.a)({},e),{},{active_user:t.payload});case Q.e:return Object(v.a)(Object(v.a)({},e),{},{users:t.payload});case Q.b:var n=t.payload;return Object(v.a)(Object(v.a)({},e),{},{users:[].concat(Object(K.a)(e.users),[n])});case Q.d:var a=t.payload;return Object(v.a)(Object(v.a)({},e),{},{groups:[].concat(Object(K.a)(e.groups),[a])});default:return Object(v.a)({},e)}},q=n(32),Y={activeTab:"chat",userSidebar:!1,conversationName:"Doris Brown"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.c:return Object(v.a)(Object(v.a)({},e),{},{activeTab:t.payload});case q.b:return Object(v.a)(Object(v.a)({},e),{},{userSidebar:!0});case q.a:return Object(v.a)(Object(v.a)({},e),{},{userSidebar:!1});case q.d:return Object(v.a)(Object(v.a)({},e),{},{conversationName:t.payload});default:return e}},te=Object(B.c)({Auth:X,Chat:$,Layout:ee}),ne=n(15),ae=n.n(ne),re=n(14),ce=n(34),oe=n.n(ce);oe.a.defaults.baseURL="http://localhost:8000/",oe.a.defaults.headers.post["Content-Type"]="application/json",oe.a.interceptors.response.use((function(e){return e.data?e.data:e}),(function(e){var t;switch(e.status){case 500:t="Internal Server Error";break;case 401:t="Invalid credentials";break;case 404:t="Sorry! the data you are looking for could not be found";break;default:t=e.message||e}return Promise.reject(t)}));var ue=n(27),ie=ae.a.mark(Ee),se=ae.a.mark(je),le=ae.a.mark(ve),de=ae.a.mark(ye),fe=ae.a.mark(we),pe=ae.a.mark(Se),me=ae.a.mark(xe),be=ae.a.mark(ke),he=ae.a.mark(_e),ge=Object(z.a)(),Oe=(new function e(){Object(m.a)(this,e),this.get=function(e,t){return oe.a.get(e,t)},this.create=function(e,t){return oe.a.post(e,t)},this.update=function(e,t){return oe.a.patch(e,t)},this.delete=function(e){return oe.a.put(e)}}).create;function Ee(e){var t,n,a,r,c,o;return ae.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,n=t.username,a=t.password,r=t.history,u.prev=1,u.next=5,Object(re.b)(ge.loginUser,n,a);case 5:return c=u.sent,u.next=8,Object(re.d)(Object(ue.e)(c));case 8:u.next=16;break;case 10:return u.next=12,Object(re.b)(Oe,"/login",{username:n,password:a});case 12:return o=u.sent,localStorage.setItem("authUser",JSON.stringify(o)),u.next=16,Object(re.d)(Object(ue.e)(o));case 16:r.push("/dashboard"),u.next=23;break;case 19:return u.prev=19,u.t0=u.catch(1),u.next=23,Object(re.d)(Object(ue.a)(u.t0));case 23:case"end":return u.stop()}}),ie,null,[[1,19]])}function je(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.history,n.prev=1,localStorage.removeItem("authUser"),n.next=6,Object(re.b)(ge.logout);case 6:return n.next=8,Object(re.b)((function(){t.push("/login")}));case 8:n.next=12;break;case 10:n.prev=10,n.t0=n.catch(1);case 12:case"end":return n.stop()}}),se,null,[[1,10]])}function ve(e){var t,n,a,r,c,o;return ae.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload.user,u.prev=1,n=t.email,a=t.password,r=t.username,u.next=8,Object(re.b)(ge.registerUser,n,a,r);case 8:return c=u.sent,u.next=11,Object(re.d)(Object(ue.h)(c));case 11:u.next=18;break;case 13:return u.next=15,Object(re.b)(Oe,"/register",t);case 15:return o=u.sent,u.next=18,Object(re.d)(Object(ue.h)(o));case 18:u.next=24;break;case 20:return u.prev=20,u.t0=u.catch(1),u.next=24,Object(re.d)(Object(ue.a)(u.t0));case 24:case"end":return u.stop()}}),le,null,[[1,20]])}function ye(e){var t,n;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.email,a.prev=1,a.next=5,Object(re.b)(ge.forgetPassword,t);case 5:if(!a.sent){a.next=9;break}return a.next=9,Object(re.d)(Object(ue.c)("Reset link are sended to your mailbox, check there first"));case 9:a.next=16;break;case 11:return a.next=13,Object(re.b)(Oe,"/forget-pwd",{email:t});case 13:return n=a.sent,a.next=16,Object(re.d)(Object(ue.c)(n));case 16:a.next=22;break;case 18:return a.prev=18,a.t0=a.catch(1),a.next=22,Object(re.d)(Object(ue.a)(a.t0));case 22:case"end":return a.stop()}}),de,null,[[1,18]])}function we(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.e)(W.d,Ee);case 2:case"end":return e.stop()}}),fe)}function Se(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.e)(W.f,je);case 2:case"end":return e.stop()}}),pe)}function xe(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.e)(W.g,ve);case 2:case"end":return e.stop()}}),me)}function ke(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.e)(W.b,ye);case 2:case"end":return e.stop()}}),be)}function _e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Object(re.c)(we),Object(re.c)(Se),Object(re.c)(xe),Object(re.c)(ke)]);case 2:case"end":return e.stop()}}),he)}var Ne=_e,Ue=ae.a.mark(Ce);function Ce(e){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([Ne()]);case 2:case"end":return e.stop()}}),Ue)}var Ie=Object(V.a)(),Ae=[Ie];o.a.render(r.a.createElement(R.a,{store:function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.d,n=Object(B.e)(te,e,t(B.a.apply(void 0,Ae)));return Ie.run(Ce),n}()},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var a="LOGIN_USER",r="LOGIN_USER_SUCCESS",c="LOGOUT_USER",o="REGISTER_USER",u="REGISTER_USER_SUCCESS",i="FORGET_PASSWORD",s="FORGET_PASSWORD_SUCCESS",l="AUTH_API_FAILED"},27:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(18),r=function(e,t,n){return{type:a.d,payload:{username:e,password:t,history:n}}},c=function(e){return{type:a.e,payload:e}},o=function(e){return{type:a.g,payload:{user:e}}},u=function(e){return{type:a.h,payload:e}},i=function(e){return{type:a.f,payload:{history:e}}},s=function(e){return{type:a.b,payload:{email:e}}},l=function(e){return{type:a.c,payload:e}},d=function(e){return{type:a.a,payload:e}}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u}));var a="CHAT_USER",r="ACTIVE_USER",c="FULL_USER",o="ADD_LOGGED_USER",u="CREATE_GROUP"},32:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o}));var a="SET_ACTIVE_TAB",r="OPEN_USER_PROFILE_SIDEBAR",c="CLOSE_USER_PROFILE_SIDEBAR",o="SET_CONVERSATION_NAME_IN_OPEN_CHAT"},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var a=n(15),r=n.n(a),c=n(67),o=n(41),u=n(50),i=n(26),s=(n(132),n(153),function(){function e(t){var n=this;Object(o.a)(this,e),this.f=function(){return i.a},this.auth=function(){return i.a.auth()},this.firestore=function(){return i.a.firestore()},this.storage=function(){return i.a.storage()},this.registerUser=function(e,t,a){return new Promise((function(o,u){i.a.auth().createUserWithEmailAndPassword(e,t).then(function(){var t=Object(c.a)(r.a.mark((function t(c){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.firestore().collection("users").add({name:a,id:c.user.uid,email:e,image:"https://ui-avatars.com/api/?name="+a,location:"",isOnline:!1,blockList:[],isVerify:!1,description:""});case 3:s=t.sent,o(s),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u(n._handleError(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),(function(e){u(n._handleError(e))}))}))},this.loginUser=function(e,t){return new Promise((function(a,r){i.a.auth().signInWithEmailAndPassword(e,t).then((function(e){a(i.a.auth().currentUser)}),(function(e){r(n._handleError(e))}))}))},this.forgetPassword=function(e){return new Promise((function(t,a){i.a.auth().sendPasswordResetEmail(e,{url:window.location.protocol+"//"+window.location.host+"/login"}).then((function(){t(!0)})).catch((function(e){a(n._handleError(e))}))}))},this.logout=function(){return new Promise((function(e,t){i.a.auth().signOut().then((function(){e(!0)})).catch((function(e){t(n._handleError(e))}))}))},this.setLoggeedInUser=function(e){localStorage.setItem("authUser",JSON.stringify(e))},this.getAuthenticatedUser=function(){return localStorage.getItem("authUser")?JSON.parse(localStorage.getItem("authUser")):null},t&&(i.a.initializeApp(t),i.a.auth().onAuthStateChanged((function(e){e?localStorage.setItem("authUser",JSON.stringify(e)):localStorage.removeItem("authUser")})))}return Object(u.a)(e,[{key:"_handleError",value:function(e){return e.message}}]),e}()),l=null,d=function(e){return l||(l=new s(e)),l},f=function(){return l}},66:function(e,t,n){"use strict";n.d(t,"e",(function(){return a.d})),n.d(t,"h",(function(){return a.g})),n.d(t,"f",(function(){return a.f})),n.d(t,"d",(function(){return a.b})),n.d(t,"b",(function(){return a.a})),n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return d}));var a=n(27),r=n(28),c=function(e){return{type:r.a,payload:e}},o=function(e){return{type:r.e,payload:e}},u=n(32),i=function(e){return{type:u.c,payload:e}},s=function(){return{type:u.b}},l=function(){return{type:u.a}},d=function(e){return{type:u.d,payload:e}}}},[[152,2,3]]]);
//# sourceMappingURL=main.6eba1e27.chunk.js.map